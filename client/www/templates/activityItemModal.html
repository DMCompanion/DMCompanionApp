<ion-modal-view class="activityItem">
    <ion-header-bar class="bar bar-header bar-positive">
        <h1 class="title">{{thisCategory}}</h1>
        <button class="button button-clear" ng-click="closeEventModal(); getActivities()">
            <span class="icon ion-ios-close-empty"></span>
        </button>
    </ion-header-bar>
    <ion-content on-swipe-right="swipeRight()" on-swipe-down="modal.hide()">
        <!-- <div class="card padding">
            <p>{{rating}}-stars</p>
            <p>{{activity.description}}</p>
            <div class="admin clearFloat" ng-show="isAdmin || isUser">
                <a class="editButton padding" ng-click="updateItem(item._id)">
                    <i class="icon ion-compose"></i>
                </a>
                <a class="trashButton padding" ng-click="destroyItem(item._id)">
                    <i class="icon ion-trash-a"></i>
                </a>
            </div>
        </div> -->
        <div class="card">
          <div class="card-container">
            <h1>{{activity.name}}</h1>
            <!-- <p>{{rating}}-stars</p> -->
            <h5 class='activity-info'>{{activity.description}}</h5>
            <h5 ng-if='activity.location' class='activity-info'><span>Location:</span> {{activity.location}}</h5>
            <div class="ratingContainer">
                <div class="stars-container">
                 <!-- ng-if='avgRating >=1' etc -->
                 <i class="icon ion-android-star" ng-if='rating >= 1'></i>
                 <i class="icon ion-android-star" ng-if='rating >= 2'></i>
                 <i class="icon ion-android-star" ng-if='rating >= 3'></i>
                 <i class="icon ion-android-star" ng-if='rating >= 4'></i>
                 <i class="icon ion-android-star" ng-if='rating === 5'></i>
                 
             </div>
         </div>
            <div>
            <p id="numberOfReviews">{{numReviews}} Reviews</p>
        </div>
            <div class='add-review-container'>
                <button id='add-review-btn' class="button button-positive" ng-click='goToReview()'>Add Review</button>
            </div>
          </div>


        </div>
        <div class='review-header-container'>
            <h1>Reviews</h1>
        </div>

        <div class="reviews-container" ng-if="activity.reviews.length >= 1">
          <div class="review-container" ng-repeat="review in activity.reviews | orderBy: '-createdAt'">
            <div class='review-wrapper'>
              <div class='review-name-time-container'>
                <div class='thumbnail-container'>
                  <img id='thumbnail' ng-src='{{review.postedBy.profilePic}}' />
                </div>
                <div class='review-name-container'>
                  <h5 class='review-name'>{{review.postedBy.name.first}}</h5>
                  <h5 class='review-name'>{{review.postedBy.name.last}}</h5>
                </div>

              </div>
              <div class="stars-container">
                  <!-- ng-if='avgRating >=1' etc -->
                  <i class="icon ion-android-star" ng-if='review.rating >= 1'></i>
                  <i class="icon ion-android-star" ng-if='review.rating >= 2'></i>
                  <i class="icon ion-android-star" ng-if='review.rating >= 3'></i>
                  <i class="icon ion-android-star" ng-if='review.rating >= 4'></i>
                  <i class="icon ion-android-star" ng-if='review.rating === 5'></i>
              </div>
              <div class='actual-review-container'>
                <p class='activity-review'>{{review.review}}</p>
              </div>
                <!-- <div>
                    <h1> {{review.rating}}/5 </h1>
                </div> -->
              <div class='trash-container' ng-if='trashCan'>
                <div class='review-time-container'>
                  <h5 class='review-time'>{{review.createdAt | timeAgo}}</h5>
                </div>

                <i class="icon ion-trash-a" ng-click='deleteReviewConfirm(review._id)'></i>
              </div>
            </div>
          </div>
        </div>

            <div class="post-review-container" id="addReview">
                <div class="stars">

                  <span class="star-rating">
                    <input type="radio" name="review.rating" ng-model="newReview.rating" ng-value="1"><i></i>
                    <input type="radio" name="review.rating" ng-model="newReview.rating" ng-value="2"><i></i>
                    <input type="radio" name="review.rating" ng-model="newReview.rating" ng-value="3"><i></i>
                    <input type="radio" name="review.rating" ng-model="newReview.rating" ng-value="4"><i></i>
                    <input type="radio" name="review.rating" ng-model="newReview.rating" ng-value="5"><i></i>
                  </span>

                </div>
                <label class="item item-input reviewText">
                    <textarea id="review-input" type="text" ng-model="newReview.review" class="review-input" placeholder="Write a review for this event!"></textarea>
                </label>
                <button class="button button-positive reviewButton" ng-click="postReview(newReview, activity._id)">Post Review</button>
            </div>

    </ion-content>
</ion-modal-view>
